<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="home/booking-entry"></ion-back-button>
      Update TLM
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content padding>
  <ion-card>
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">TLM Number</ion-label>
            <ion-input [(ngModel)]="postData.tlmno" readonly style="background-color: #e9e9e9;"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Date</ion-label>
            <ion-input [(ngModel)]="postData.tdate" type="date"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-label>To Branch</ion-label>
          <ion-select okText="Okay" cancelText="Dismiss" [(ngModel)]="postData.tbranch">
            <ion-select-option [value]=item.name *ngFor="let item of branch_items">{{item.name}}</ion-select-option>
          </ion-select>
        </ion-col>
        <ion-col>
          <ion-label>From Branch</ion-label>
          <ion-select okText="Okay" cancelText="Dismiss" [(ngModel)]="postData.fbranch">
            <ion-select-option [value]=item.name *ngFor="let item of branch_items">{{item.name}}</ion-select-option>
          </ion-select>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label>Driver</ion-label>
          <ion-select okText="Okay" cancelText="Dismiss" [(ngModel)]="postData.driver">
            <ion-select-option [value]=postData.driver>{{postData.driver}}</ion-select-option>
            <ion-select-option [value]=item.name *ngFor="let item of driver_items">{{item.name}}</ion-select-option>
          </ion-select>
        </ion-col>
        <ion-col>
          <ion-label>Vehicles</ion-label>
          <ion-select okText="Okay" cancelText="Dismiss" [(ngModel)]="postData.vehicle">
            <ion-select-option [value]=postData.vehicle>{{postData.vehicle}}</ion-select-option>
            <ion-select-option [value]=item.name *ngFor="let item of vehicle_items">{{item.name}}</ion-select-option>
          </ion-select>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Owner Name</ion-label>
            <ion-input [(ngModel)]="postData.owner"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Actual Weight</ion-label>
            <ion-input [(ngModel)]="postData.actual"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Paid Weight</ion-label>
            <ion-input [(ngModel)]="postData.paidw"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Total Charges</ion-label>
            <ion-input [(ngModel)]="postData.totalcharges"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Hire</ion-label>
            <ion-input [(ngModel)]="postData.hire"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Other Charges</ion-label>
            <ion-input [(ngModel)]="postData.otherc"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Advanced</ion-label>
            <ion-input [(ngModel)]="postData.advance"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Total Pkg</ion-label>
            <ion-input [(ngModel)]="postData.package"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked">Balance Amount</ion-label>
            <ion-input [(ngModel)]="postData.balance"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>


  <ion-card>
    <ion-card-header>
      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-label position="stacked">Select GC</ion-label>
            <ion-select okText="Okay" cancelText="Dismiss" [(ngModel)]="postSortedGcData.gcno">
              <ion-select-option [value]=item.id *ngFor="let item of gc_items">{{item.gcno}}</ion-select-option>
            </ion-select>
          </ion-col>
          <ion-col>
            <ion-button (click)=addGcToTlm() style="margin-top: 20px;">Add Gc</ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-header>
    <ion-grid>
      <ion-row class="table_header">
        <ion-col>
          <ion-label position="stacked">No.</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">GC No.</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">GC Date</ion-label>
        </ion-col>
        <ion-col>

          <ion-label position="stacked">Consignor</ion-label>

        </ion-col>
        <ion-col>
          <ion-label position="stacked">Consignee</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">QTY </ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">Weight</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">Pay Type</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">Amount</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">Delete</ion-label>
        </ion-col>
      </ion-row>

      <ion-row *ngFor="let item of gc_list_items" style="border-bottom: 2px solid;">
        <ion-col>
          <ion-label position="stacked">{{item.id}}</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">{{item.gcno}}</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">{{item.date}}</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">{{item.consignor}}</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">{{item.consignee}}</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">{{item.qty}}</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">{{item.actualweight}}</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">{{item.paytype}}</ion-label>
        </ion-col>
        <ion-col>
          <ion-label position="stacked">{{item.totalamount}}</ion-label>
        </ion-col>
        <ion-col>
          <ion-button (click)=deleteTlmGc(item.id)>Delete</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>


  <ion-card>
    <ion-card-header>
      <ion-card-subtitle>Total</ion-card-subtitle>
    </ion-card-header>
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="stacked"></ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked"></ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked"></ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked"></ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked" class="fnt">QTY</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked" class="fnt">{{postData.qty}}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked" class="fnt">Weight</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked" class="fnt">{{postData.weight}}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked" class="fnt">Amount</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="stacked" class="fnt">{{postData.amount}}</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>

  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label position="stacked">Remark</ion-label>
          <ion-input [(ngModel)]="postData.remark"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col></ion-col>
      <ion-col>
        <ion-button (click)="updateTlm()">Save and Update</ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>